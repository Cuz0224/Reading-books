# 第一章 走近函数式
# 几个问题
## 函数式思想？
面向对象编程通过封装变化使得代码更易理解
函数式编程通过最小化变化使得代码更易理解
## 什么是函数式编程以及为什么要进行函数式编程？
1. 什么是函数式编程？ 
  1. 简单来说，函数式编程是一种强调以函数使用为主的软件开发风格。
  2. 函数式编程是指为创建不可变的程序，通过消除外部可见的副作用，来对纯函数的声明式的求值过程
  3. 函数式编程的目标是使用函数来抽象作用在数据之上的控制流与操作，从而在系统中消除副作用并减少对状态的改变
  4. 函数式编程旨在尽可能提高代码的无状态性和不变性（利用纯函数）
  5. 函数式编程在实践上并不限制一切状态的改变，它只是提供了一个框架来帮助管理和减少可变状态，同时让你能够将纯函数从不纯的部分中分离出来。
2. 为什么要进行函数式编程？
  1. 如今大多数主流编程语言都提供原生的或基于 API 的函数式支持
  2. 在 JavaScript 的上下文中，函数式思想可以用来塑造令人难以置信的语言特性，帮助你编写干净的、模块化的可测试的并且简洁的代码，使你在开发过程中更加高效。
## 不变性和纯函数的原则？
### 纯函数满足以下两个条件
1. 仅取决于提供的输入，而不依赖与任何在函数求值期间或调用间隔时可能变化的隐藏状态和外部状态
2. 不会超出其作用域的变化，例如修改全局对象或引用传递的参数
## 函数式编程技术及其对程序设计的影响？
1. 促使将任务分解成简单的函数
2. 使用流式的调用链来处理数据
3. 通过响应式范式降低事件驱动代码的复杂性
4. 函数链是一种惰性计算程序，这意味着当需要时才会执行，这对程序性能是有利的，因为可以避免执行可能包含一些永不会使用的整个代码序列，节省宝贵的 CPU 计算周期。也即按需调用
# 应用设计原则
1. 可扩展性——是否需要不断地重构代码来支持额外的功能
2. 易模块化——如果我更改了一个文件，另一个文件会不会受到影响
3. 可重用性——是否有很多重复的代码
4. 可测性——给这些函数添加单元测试是否让我纠结
5. 易推理性——我写的代码是否结构化严重并难以推理
# 什么是函数式编程
## 函数式编程是声明式编程
函数式编程属于声明式编程范式：这种范式会描述一系列的操作，但并不会暴露他们是如何实现的或是数据流如何穿过他们（与命令式和过程式相对应）。函数式代码让开发者免于考虑如何妥善管理循环计数器以及数组索引访问的问题。
命令式编程范式：将计算机程序视为一系列自上而下的断言，通过修改系统的各个状态来计算最终的结果。将程序的描述与求值分离开来，关注于如何用各种表达式来描述程序逻辑，而不一定要指明其控制流或状态的变化。
## 副作用带来的问题和纯函数
### 纯函数
#### 满足以下两个条件
1. 仅取决于提供的输入，而不依赖与任何在函数求值期间或调用间隔时可能变化的隐藏状态和外部状态
2. 不会超出其作用域的变化，例如修改全局对象或引用传递的参数
#### 副作用
- 改变一个全局的变量、属性或数据结构
- 改变一个函数参数的原始值
- 处理用户输入
- 抛出一个异常，除非它被当前函数捕获了
- 屏幕打印或记录日志
- 查询 HTML 文档、浏览器的 cookie 或访问数据库
函数式编程在实践上并不限制一切状态的改变，它只是提供了一个框架来帮助管理和减少可变状态，同时让你能够将纯函数从不纯的部分中分离出来。
## 引用透明和可置换性
如果一个函数对于相同的输入始终产生相同的结果，那么就说它是引用透明的
这种特质让我们更容易推理整个程序
## 存储不可变数据
例如处理数组，利用纯函数可以不改变原来的数组，达到存储原来是数组的目的
# 函数式编程的优点
1. 促使将任务分解成简单的函数
2. 使用流式的调用链来处理数据
3. 通过响应式范式降低事件驱动代码的复杂性
## 鼓励复杂任务的分解
将复杂的任务分解成一个个简单的任务
再用 compose 函数将函数组合起来
## 使用流式链来处理数据
函数链是一种惰性计算程序，这意味着当需要时才会执行，这对程序性能是有利的，因为可以避免执行可能包含一些永不会使用的整个代码序列，节省宝贵的 CPU 计算周期。也即按需调用
## 复杂异步应用中的响应
# 总结
- 使用纯函数的代码绝不会更改或破坏全局状态，有助于提高代码的可测试性和可维护性
- 函数式编程采用的声明式的风格，易于推理。这提高了应用程序的整体可读性，通过使用组合和箭头函数使代码更加精简
- 集合中的数据元素处理可以通过链接如 map 和 reduce 这样的函数来实现
- 函数式编程将函数视为积木，通过一等高阶函数来提高代码的模块化和可重用性
- 可以利用响应式编程组合各个函数来降低事件驱动程序的复杂性
